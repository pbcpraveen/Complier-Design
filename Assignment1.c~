#include<stdio.h>
#include<string.h>
#include<ctype.h>
#include<stdlib.h>
#include<unistd.h>
#include<sys/types.h>
#include<fcntl.h>
char tokens[100][100];
int n = 0;
const char *quote = "'";
const char *backquote = "\"";

char keyword[32][20] = {"auto" , "break" , "case" , "char" , "const" , "continue" , "default" , "do" , "double" , "else" , "enum" , "extern" , "float",
			"for" , "goto" , "if" , "int" , "long" , "register" , "return" , "short" , "signed" , "sizeof" , "static" , "struct" , "switch",
			"typedef" , "union" , "unsigned" , "void" , "volatile" , "while"};

int isKey(char a[]){
  int flag = 0 ;
  for(int i = 0; i < 32 ;i++)
    {
      if(strcmp(a,keyword[i])==0)
	{
	  flag = 1;
	  break;
	}
    }
  return flag;
}



int main()
{
  int f = open("code.c",O_RDONLY);
  char code[5000];
  int p = read(f,code,4999);
  int i = 0;
  char tok[100];
  int s = 0;
  // printf("%s",code);

  while(code[i]!='\0'){
    // printf("%c",code[i]);
    s = 0;
    tok[s] = '\0';
      if(code[i]=='#'){
	while(code[i] == '\n'){
	  tok[s] = code[i];
	  s++;
	  i++;
	}
	tok[++s] = '\0';
	strcpy(tokens[n++],tok);

      }
      else if(code[i]==' '||code[i] =='\n'){
	tok[s] = '\0';
	strcpy(tokens[n++],tok);
	s = 0;
	break;
      }
      else if(code[i]==quote[0] || code[i] == backquote[0] ){
	tok[s] = code[i];
        i++;
	while(code[i]==quote[0] || code[i] == backquote[0] ){
	  tok[s] = code[i];
	  s++;
	  i++;
	}
	tok[s] = code[i];
	tok[++s] = '\0';
	strcpy(tokens[n++],tok);
	s = 0;
	break;
      }
      else if(!isalnum(code[i])){
	tok[s] = '\0';
        strcpy(tokens[n++],tok);
	tok[0] = code[i];
	if(!isalnum(code[i+1])){
	  tok[1] = code[i+1];
	  i++;
	  tok[2] = '\0';
	}
	else{
	  tok[1] = '\0';
	}
	strcpy(tokens[n++],tok);
	s = 0;
	break;
	
      }
      else{
	tok[s] = code[i];
	s++;
      }
      
	
    
i++;

  }
  
  for(int i = 0;i<n;i++){
    printf("%s\n",tokens[i]);

}

}
